(function(d,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(d=typeof globalThis<"u"?globalThis:d||self,e(d["vue-json-component-vue-3"]={},d.vue))})(this,function(d,e){"use strict";const $="",C="",b=(t,u)=>{const n=t.__vccOpts||t;for(const[l,y]of u)n[l]=y;return n},_={class:"json-view-item"},j={key:0},x=["onClick","aria-expanded"],N={class:"properties"},w=["role","tabindex"],V={class:"value-key"},O=e.defineComponent({name:"json-view-item"}),v=b(Object.assign(O,{props:{data:{required:!0,type:Object},maxDepth:{type:Number,required:!1,default:1},canSelect:{type:Boolean,required:!1,default:!1}},emits:["selected"],setup(t,{emit:u}){const n=t,l=e.ref<boolean>(n.data.depth<n.maxDepth),y=()=>{l.value=!l.value},m=a=>{u("selected",{key:a.key,value:a.value,path:a.path})},h=a=>{u("selected",a)},g=a=>isNaN(a.key)?'"'+a.key+'":':a.key+":",o=a=>{switch(typeof a){case"string":return{color:"var(--vjc-string-color)"};case"number":return{color:"var(--vjc-number-color)"};case"boolean":return{color:"var(--vjc-boolean-color)"};case"object":return{color:"var(--vjc-null-color)"};case"undefined":return{color:"var(--vjc-null-color)"};default:return{color:"var(--vjc-valueKey-color)"}}},s=e.computed(()=>({"chevron-arrow":!0,opened:l.value})),i=e.computed(()=>({"value-key":!0,"can-select":n.canSelect})),c=e.computed(()=>n.data.type==="array"?n.data.length===1?n.data.length+" element":n.data.length+" elements":n.data.length===1?n.data.length+" property":n.data.length+" properties"),p=e.computed(()=>typeof n.data.value>"u"?"undefined":JSON.stringify(n.data.value));return(a,r)=>{const S=e.resolveComponent("json-view-item");return e.openBlock(),e.createElementBlock("div",_,[t.data.type==="object"||t.data.type==="array"?(e.openBlock(),e.createElementBlock("div",j,[e.createElementVNode("button",{onClick:e.withModifiers(y,["stop"]),class:"data-key","aria-expanded":l?"true":"false"},[e.createElementVNode("div",{class:e.normalizeClass(s.value)},null,2),e.createTextVNode(" "+e.toDisplayString(t.data.key)+": ",1),e.createElementVNode("span",N,e.toDisplayString(c.value),1)],8,x),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data.children,f=>e.withDirectives((e.openBlock(),e.createBlock(S,{onSelected:h,key:g(f),data:f,maxDepth:t.maxDepth,canSelect:t.canSelect},null,8,["data","maxDepth","canSelect"])),[[e.vShow,l]])),128))])):e.createCommentVNode("",!0),t.data.type==="value"?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(i.value),onClick:r[0]||(r[0]=f=>m(t.data)),onKeyup:[r[1]||(r[1]=e.withKeys(f=>m(t.data),["enter"])),r[2]||(r[2]=e.withKeys(f=>m(t.data),["space"]))],role:t.canSelect?"button":void 0,tabindex:t.canSelect?"0":void 0},[e.createElementVNode("span",V,e.toDisplayString(t.data.key)+":",1),e.createElementVNode("span",{style:e.normalizeStyle(o(t.data.value))},e.toDisplayString(p.value),5)],42,w)):e.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-0ba975f4"]]),q="",D=e.defineComponent({name:"json-view"}),k=b(Object.assign(D,{props:{data:{required:!0},rootKey:{type:String,required:!1,default:"root"},maxDepth:{type:Number,required:!1,default:1},colorScheme:{type:String,required:!1,default:"light"}},emits:["selected"],setup(t,{emit:u}){const n=t,l=(o,s,i,c,p)=>{if(y(s)){let a=[];for(let[r,S]of Object.entries(s))a.push(l(r,S,i+1,p?`${c}${o}.`:`${c}`,!0));return{key:o,type:"object",depth:i,path:c,length:a.length,children:a}}else if(m(s)){let a=[];for(let r=0;r<s.length;r++)a.push(l(r.toString(),s[r],i+1,p?`${c}${o}[${r}].`:`${c}`,!1));return{key:o,type:"array",depth:i,path:c,length:a.length,children:a}}else return{key:o,type:"value",path:p?c+o:c.slice(0,-1),depth:i,value:s}},y=o=>typeof o=="object"&&o!==null&&!m(o),m=o=>Array.isArray(o),h=o=>{u("selected",o)},g=e.computed(()=>typeof n.data=="object"?l(n.rootKey,{...n.data},0,"",!0):{key:n.rootKey,type:"value",path:"",depth:0,value:n.data});return(o,s)=>(e.openBlock(),e.createBlock(v,{class:e.normalizeClass([{"root-item":!0,dark:t.colorScheme==="dark"}]),data:g.value,maxDepth:t.maxDepth,onSelected:h},null,8,["class","data","maxDepth"]))}}),[["__scopeId","data-v-5b340177"]]),B={install:t=>{t.component("JSONView",k)}};d.JSONView=k,d.default=B,Object.defineProperties(d,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});

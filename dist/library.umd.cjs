(function(e,f){typeof exports=="object"&&typeof module<"u"?module.exports=f(require("vue")):typeof define=="function"&&define.amd?define(["vue"],f):(e=typeof globalThis<"u"?globalThis:e||self,e["vue-json-component-vue-3"]=f(e.Vue))})(this,function(e){"use strict";const f="",S=(t,s)=>{const n=t.__vccOpts||t;for(const[l,p]of s)n[l]=p;return n},j={class:"json-view-item"},x={key:0},w=["onClick","aria-expanded"],N={class:"properties"},V=["role","tabindex"],D={class:"value-key"},B=e.defineComponent({name:"json-view-item"}),_=S(Object.assign(B,{props:{data:{required:!0,type:Object},maxDepth:{type:Number,required:!1,default:1},canSelect:{type:Boolean,required:!1,default:!1}},emits:["selected"],setup(t,{emit:s}){const n=t,l=e.ref<boolean>(n.data.depth<n.maxDepth),p=()=>{l.value=!l.value},u=a=>{s("selected",{key:a.key,value:a.value,path:a.path})},g=a=>{s("selected",a)},k=a=>isNaN(a.key)?'"'+a.key+'":':a.key+":",o=a=>{switch(typeof a){case"string":return{color:"var(--vjc-string-color)"};case"number":return{color:"var(--vjc-number-color)"};case"boolean":return{color:"var(--vjc-boolean-color)"};case"object":return{color:"var(--vjc-null-color)"};case"undefined":return{color:"var(--vjc-null-color)"};default:return{color:"var(--vjc-valueKey-color)"}}},i=e.computed(()=>({"chevron-arrow":!0,opened:l.value})),d=e.computed(()=>({"value-key":!0,"can-select":n.canSelect})),c=e.computed(()=>n.data.type==="array"?n.data.length===1?n.data.length+" element":n.data.length+" elements":n.data.length===1?n.data.length+" property":n.data.length+" properties"),m=e.computed(()=>typeof n.data.value>"u"?"undefined":JSON.stringify(n.data.value));return(a,r)=>{const b=e.resolveComponent("json-view-item");return e.openBlock(),e.createElementBlock("div",j,[t.data.type==="object"||t.data.type==="array"?(e.openBlock(),e.createElementBlock("div",x,[e.createElementVNode("button",{onClick:e.withModifiers(p,["stop"]),class:"data-key","aria-expanded":l?"true":"false"},[e.createElementVNode("div",{class:e.normalizeClass(i.value)},null,2),e.createTextVNode(" "+e.toDisplayString(t.data.key)+": ",1),e.createElementVNode("span",N,e.toDisplayString(c.value),1)],8,w),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data.children,y=>e.withDirectives((e.openBlock(),e.createBlock(b,{onSelected:g,key:k(y),data:y,maxDepth:t.maxDepth,canSelect:t.canSelect},null,8,["data","maxDepth","canSelect"])),[[e.vShow,l]])),128))])):e.createCommentVNode("",!0),t.data.type==="value"?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(d.value),onClick:r[0]||(r[0]=y=>u(t.data)),onKeyup:[r[1]||(r[1]=e.withKeys(y=>u(t.data),["enter"])),r[2]||(r[2]=e.withKeys(y=>u(t.data),["space"]))],role:t.canSelect?"button":void 0,tabindex:t.canSelect?"0":void 0},[e.createElementVNode("span",D,e.toDisplayString(t.data.key)+":",1),e.createElementVNode("span",{style:e.normalizeStyle(o(t.data.value))},e.toDisplayString(m.value),5)],42,V)):e.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-0ba975f4"]]),v="",O=e.defineComponent({name:"json-view"}),$=S(Object.assign(O,{props:{data:{required:!0},rootKey:{type:String,required:!1,default:"root"},maxDepth:{type:Number,required:!1,default:1},colorScheme:{type:String,required:!1,default:"light"}},emits:["selected"],setup(t,{emit:s}){const n=t,l=(o,i,d,c,m)=>{if(p(i)){let a=[];for(let[r,b]of Object.entries(i))a.push(l(r,b,d+1,m?`${c}${o}.`:`${c}`,!0));return{key:o,type:"object",depth:d,path:c,length:a.length,children:a}}else if(u(i)){let a=[];for(let r=0;r<i.length;r++)a.push(l(r.toString(),i[r],d+1,m?`${c}${o}[${r}].`:`${c}`,!1));return{key:o,type:"array",depth:d,path:c,length:a.length,children:a}}else return{key:o,type:"value",path:m?c+o:c.slice(0,-1),depth:d,value:i}},p=o=>typeof o=="object"&&o!==null&&!u(o),u=o=>Array.isArray(o),g=o=>{s("selected",o)},k=e.computed(()=>typeof n.data=="object"?l(n.rootKey,{...n.data},0,"",!0):{key:n.rootKey,type:"value",path:"",depth:0,value:n.data});return(o,i)=>(e.openBlock(),e.createBlock(_,{class:e.normalizeClass([{"root-item":!0,dark:t.colorScheme==="dark"}]),data:k.value,maxDepth:t.maxDepth,onSelected:g},null,8,["class","data","maxDepth"]))}}),[["__scopeId","data-v-5b340177"]]),q="",h={JSONView:$,JSONViewItem:_};return{install(t){for(const s in h)if(h.hasOwnProperty(s)){const n=h[s];t.component(n.name,n)}}}});

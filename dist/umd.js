(function(e,f){typeof exports=="object"&&typeof module<"u"?module.exports=f(require("vue")):typeof define=="function"&&define.amd?define(["vue"],f):(e=typeof globalThis<"u"?globalThis:e||self,e["vue-json-component-vue-3"]=f(e.Vue))})(this,function(e){"use strict";const f="",S=(t,d)=>{const n=t.__vccOpts||t;for(const[l,m]of d)n[l]=m;return n},b={class:"json-view-item"},_={key:0},j=["onClick","aria-expanded"],x={class:"properties"},N=["role","tabindex"],w={class:"value-key"},V=e.defineComponent({name:"json-view-item"}),D=S(Object.assign(V,{props:{data:{required:!0,type:Object},maxDepth:{type:Number,required:!1,default:1},canSelect:{type:Boolean,required:!1,default:!1}},emits:["selected"],setup(t,{emit:d}){const n=t,l=e.ref<boolean>(n.data.depth<n.maxDepth),m=()=>{l.value=!l.value},u=a=>{d("selected",{key:a.key,value:a.value,path:a.path})},h=a=>{d("selected",a)},g=a=>isNaN(a.key)?'"'+a.key+'":':a.key+":",o=a=>{switch(typeof a){case"string":return{color:"var(--vjc-string-color)"};case"number":return{color:"var(--vjc-number-color)"};case"boolean":return{color:"var(--vjc-boolean-color)"};case"object":return{color:"var(--vjc-null-color)"};case"undefined":return{color:"var(--vjc-null-color)"};default:return{color:"var(--vjc-valueKey-color)"}}},s=e.computed(()=>({"chevron-arrow":!0,opened:l.value})),i=e.computed(()=>({"value-key":!0,"can-select":n.canSelect})),c=e.computed(()=>n.data.type==="array"?n.data.length===1?n.data.length+" element":n.data.length+" elements":n.data.length===1?n.data.length+" property":n.data.length+" properties"),p=e.computed(()=>typeof n.data.value>"u"?"undefined":JSON.stringify(n.data.value));return(a,r)=>{const k=e.resolveComponent("json-view-item");return e.openBlock(),e.createElementBlock("div",b,[t.data.type==="object"||t.data.type==="array"?(e.openBlock(),e.createElementBlock("div",_,[e.createElementVNode("button",{onClick:e.withModifiers(m,["stop"]),class:"data-key","aria-expanded":l?"true":"false"},[e.createElementVNode("div",{class:e.normalizeClass(s.value)},null,2),e.createTextVNode(" "+e.toDisplayString(t.data.key)+": ",1),e.createElementVNode("span",x,e.toDisplayString(c.value),1)],8,j),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data.children,y=>e.withDirectives((e.openBlock(),e.createBlock(k,{onSelected:h,key:g(y),data:y,maxDepth:t.maxDepth,canSelect:t.canSelect},null,8,["data","maxDepth","canSelect"])),[[e.vShow,l]])),128))])):e.createCommentVNode("",!0),t.data.type==="value"?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(i.value),onClick:r[0]||(r[0]=y=>u(t.data)),onKeyup:[r[1]||(r[1]=e.withKeys(y=>u(t.data),["enter"])),r[2]||(r[2]=e.withKeys(y=>u(t.data),["space"]))],role:t.canSelect?"button":void 0,tabindex:t.canSelect?"0":void 0},[e.createElementVNode("span",w,e.toDisplayString(t.data.key)+":",1),e.createElementVNode("span",{style:e.normalizeStyle(o(t.data.value))},e.toDisplayString(p.value),5)],42,N)):e.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-2c37d786"]]),C="",B=e.defineComponent({name:"json-view"}),O=S(Object.assign(B,{props:{data:{required:!0},rootKey:{type:String,required:!1,default:"root"},maxDepth:{type:Number,required:!1,default:1},colorScheme:{type:String,required:!1,default:"light"}},emits:["selected"],setup(t,{emit:d}){const n=t,l=(o,s,i,c,p)=>{if(m(s)){let a=[];for(let[r,k]of Object.entries(s))a.push(l(r,k,i+1,p?`${c}${o}.`:`${c}`,!0));return{key:o,type:"object",depth:i,path:c,length:a.length,children:a}}else if(u(s)){let a=[];for(let r=0;r<s.length;r++)a.push(l(r.toString(),s[r],i+1,p?`${c}${o}[${r}].`:`${c}`,!1));return{key:o,type:"array",depth:i,path:c,length:a.length,children:a}}else return{key:o,type:"value",path:p?c+o:c.slice(0,-1),depth:i,value:s}},m=o=>typeof o=="object"&&o!==null&&!u(o),u=o=>Array.isArray(o),h=o=>{d("selected",o)},g=e.computed(()=>typeof n.data=="object"?l(n.rootKey,{...n.data},0,"",!0):{key:n.rootKey,type:"value",path:"",depth:0,value:n.data});return(o,s)=>(e.openBlock(),e.createBlock(D,{class:e.normalizeClass([{"root-item":!0,dark:t.colorScheme==="dark"}]),data:g.value,maxDepth:t.maxDepth,onSelected:h},null,8,["class","data","maxDepth"]))}}),[["__scopeId","data-v-7b624165"]]),E="";return{install:(t,d)=>{t.component("JSONView",O)}}});
